include "application.conf"

akka {
  cluster {
    roles = ["frontend"]
  }

  actor {
    deployment {
      /backendRouter {
        router = round-robin-group
        routees.paths = ["/user/backendWorker"]
        cluster {
          enabled = on
          allow-local-routees = off
          use-role = backend
        }
      }
    }
  }

  http.server {
    host = "0.0.0.0"
    port = 8080
    port = ${?PORT_BIND_HTTP}

    server-header = ${name}"-frontend"
    idle-timeout = 60 s
    request-timeout = 3 s # 20 s
    max-connections = 1024

    address-server-header {
      enabled = on
    }

    log-server-requests {
      enabled = on
    }
  }
}
